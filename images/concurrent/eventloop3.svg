<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1031px" height="501px" viewBox="-0.5 -0.5 1031 501" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2021-08-09T07:13:01.636Z&quot; agent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_16_0) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/12.4.2 Chrome/78.0.3904.130 Electron/7.1.4 Safari/537.36&quot; etag=&quot;vT9AZyMeJpAESHvPNidn&quot; version=&quot;12.4.2&quot; type=&quot;device&quot; pages=&quot;1&quot;&gt;&lt;diagram id=&quot;HJmUStI_CM5IVOYUvzLL&quot; name=&quot;Page-1&quot;&gt;5Vpdc6M2FP01mmkfdsfiU3oEf2z70E46mU7Tpw4GxWYWWy4mid1f3yshMEhK7KTG3nXzkIGLPkDncM/RNcgdr3ZfymSz/IVnrEDOKNshd4Ich3oB/BeBfR3AoUfqyKLMMxU7BO7zf5gKjlT0Kc/Yttew4ryo8k0/mPL1mqVVL5aUJX/pN3vkRX/WTbJgRuA+TQoz+keeVcs6SpzwEP+J5YtlMzMOaH1llTSN1ZNsl0nGXzohd4rcccl5VR+tdmNWiMVr1qXuN3vlantjJVtXp3TYz//azu42v7m/Zl9+f5gE/gOff1LwPCfFk3pgNCUoniEao6mPiI8iHzlBATPE8xKOFuJow2HkKUUUmgZoGqBoimJfPWa1b9au5E/rjInpR9DpZZlX7H6TpOLqC7AFYstqVcAZhsPHvCjGvOCl7OsynPkshPi2KvlX1rlCg9BNAriibp2VFdu9uia4XWmgKOMrVpV7aKI6eAobxU6iTl86SKvQsgNyG0wUuRbtwIf1hwMFwTvgCC1wAAoERZ5YZgorPREPyOVQfz8xaCbi0GAmWtIRigAQD8WATISmIYqoOHgdGfxuZLKEkcfUhkyQEjZ/PA8yOjTYNbHBngWcYChsiImNvqxsnUUi58BZWiTbbZ72V5Lt8uqhc/yneDU+OyRQ55Odelfkyb45WcPtP3RP6n5+c3roJs/2nUHuWJnD47NSxT6KJcuMNKkhCQvBn8qUHU82VVIuWHXsLTCZ0UHetwDfxEpWJFX+3L9dGxvUDHc8hwdpiYd14umEqh9T9ermW30gqg2EtYHqdTAGkuRsH/vjfKWWXAKpYoyiSOR4kbKnImfAAY0qYElp8Ble36rP4D5P1nzNNFKpUFLki7V4DYAkgnyxSAY5yGqkLqzyLBPTWJNPXzjOkE0MUC3ZJLRl+qGSScOFDjq1qBqpW8hsiGJHREik9BYEiGA0naF4jMhYKrArggLgGUi2hHNrCrcAnsSHBqJ9KMesZ/GU3MQjaQNqirSzyEuUsmdY9YLzjbwTuERF9wjLu/XFfzIzXUQzo+Eauk8BQ0WhZCeGiOxSi9xZBcxnJPNsSY84czc4k7XQBawVpg7lPJu7GEzAMB5KwUJ/EAEbUqyOilDzhp6maldTK8dg2ecRGR3+vPOIl5EJBxYv7FjU638uWrYMclnRci2gGNsTy35EB27Lqp9XK5blScV++FEoGwXR8GCli3mSfj1vtr/IdsXTsLJAZd1KDpfsPQOrjm5LZJRxmIgtvqG9am9JEQllQx2ig2qHQuU7zkH1NI1MV+eJIIsxqTHNtmNDWmMCPsVFcSwPYuF36rlI7ZUoalLXd2UXdAJh/+oM8oeyC2+7hatuUa+69XT1HaOrYXuqeutk0utVQ4u3pap4CeZ8iz7zNMad4ke9q1Iz0LyI91FqYo3j9MLctJVYXyuT3oyVdEl/1akpLrZa6nBO0lJMVSo+OaF8fbO4YMsvEBcFphnYsI2FsI117UbWdMCvUWnKREGRSAc3k0byjfqOj2IqL4XCdYqykS+cHfEPrtIXNi4atVWj/i8d7Ug1VUaqfiW2GGbZCuKxKHaJSxNhGU27+f3ZRNjaW5W96xJte8LBXKIzWFHpBrW+2UAfFXvHv6bY+8Hb9vFUrQ+04tSFfwBpmPifqPkN0uw4e0bXZE/o2L3Ge9nj67uhC5cgHVu1S69k3a41aWG8mhUxK1hv/IB5w0DolSF8bWAshaETPhpKl0w4vBv4aohoe9hPbaX+SGUef+DDITg9fCNW57bDl3bu9F8=&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g><rect x="0" y="220" width="80" height="280" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><g transform="translate(18.5,346.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="42" height="26" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 44px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">进入<br />poll阶段</div></div></foreignObject><text x="21" y="19" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">进入&lt;br&gt;poll阶段</text></switch></g><rect x="200" y="270" width="140" height="60" rx="9" ry="9" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(204.5,293.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="130" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 132px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">判断 poll queue是否为空</div></div></foreignObject><text x="65" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">判断 poll queue是否为空</text></switch></g><path d="M 80 300.08 L 193.63 300" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 198.88 300 L 191.88 303.51 L 193.63 300 L 191.88 296.51 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><rect x="100" y="270" width="70" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(103.5,273.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="62" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 64px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">未设定timer</div></div></foreignObject><text x="31" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">未设定timer</text></switch></g><rect x="200" y="400" width="480" height="60" rx="9" ry="9" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(248.5,416.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="382" height="26" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 382px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">poll为空闲状态，检查timers<br />若timers时间到达，则eventloop按顺序进入timers阶段，执行timerqueue</div></div></foreignObject><text x="191" y="19" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">poll为空闲状态，检查timers&lt;br&gt;若timers时间到达，则eventloop按顺序进入timers阶段，执行timerqueue</text></switch></g><path d="M 80 430 L 193.63 430" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 198.88 430 L 191.88 433.5 L 193.63 430 L 191.88 426.5 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><rect x="100" y="400" width="70" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(109.5,403.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="50" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 52px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">设定timer</div></div></foreignObject><text x="25" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">设定timer</text></switch></g><rect x="400" y="200" width="280" height="60" rx="9" ry="9" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(435.5,223.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="208" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 208px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">判断是否设定setImmediate()的callback</div></div></foreignObject><text x="104" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">判断是否设定setImmediate()的callback</text></switch></g><rect x="400" y="290" width="280" height="60" rx="9" ry="9" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(401.5,306.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="276" height="26" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 276px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">eventloop同步执行queue里的callback，直到queue为空，或执行的callbacks达到系统上限</div></div></foreignObject><text x="138" y="19" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">eventloop同步执行queue里的callback，直到queue为空，或执行的callbacks达到系统上限</text></switch></g><path d="M 340 300 L 396.18 225.09" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 399.33 220.89 L 397.93 228.59 L 396.18 225.09 L 392.33 224.39 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><path d="M 340 300 L 393.96 317.99" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 398.94 319.65 L 391.19 320.75 L 393.96 317.99 L 393.41 314.11 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><rect x="340" y="230" width="40" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(353.5,233.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="12" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 13px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">空</div></div></foreignObject><text x="6" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">空</text></switch></g><rect x="340" y="320" width="40" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(341.5,323.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="36" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 37px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">不为空</div></div></foreignObject><text x="18" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">不为空</text></switch></g><rect x="760" y="220" width="270" height="60" rx="9" ry="9" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(761.5,236.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="266" height="26" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 266px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">eventllop阻塞在该阶段，并等待callback加入poll queue，一旦到达立即执行</div></div></foreignObject><text x="133" y="19" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">eventllop阻塞在该阶段，并等待callback加入poll queue，一旦到达立即执行</text></switch></g><path d="M 680 230 L 766.56 95.36" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 769.4 90.94 L 768.55 98.72 L 766.56 95.36 L 762.67 94.94 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><path d="M 680 230 L 753.82 248.46" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 758.92 249.73 L 751.28 251.43 L 753.82 248.46 L 752.97 244.64 Z" fill="#6c8ebf" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><rect x="680" y="140" width="40" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(687.5,143.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="24" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 25px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">设定</div></div></foreignObject><text x="12" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">设定</text></switch></g><rect x="700" y="250" width="40" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(701.5,253.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="36" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 37px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">未设定</div></div></foreignObject><text x="18" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">未设定</text></switch></g><rect x="770" y="0" width="70" height="180" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><g transform="translate(776.5,76.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="56" height="26" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 56px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">进入<br />check阶段</div></div></foreignObject><text x="28" y="19" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">进入&lt;br&gt;check阶段</text></switch></g></g></svg>